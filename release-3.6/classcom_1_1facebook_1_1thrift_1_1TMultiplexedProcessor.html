<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ChrisTest-Java: com.facebook.thrift.TMultiplexedProcessor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ChrisTest-Java
   &#160;<span id="projectnumber">3.6.0</span>
   </div>
   <div id="projectbrief">Test doxygen features</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.facebook.thrift.TMultiplexedProcessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code><a class="el" href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html" title="TMultiplexedProcessor is a TProcessor allowing a single TServer  to provide multiple services.">TMultiplexedProcessor</a></code> is a <code><a class="el" href="interfacecom_1_1facebook_1_1thrift_1_1TProcessor.html" title="A processor is a generic object which operates upon an input stream and writes to some output stream.">TProcessor</a></code> allowing a single <code>TServer </code> to provide multiple services.  
 <a href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for com.facebook.thrift.TMultiplexedProcessor:</div>
<div class="dyncontent">
<div class="center"><img src="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor__inherit__graph.png" border="0" usemap="#acom_8facebook_8thrift_8TMultiplexedProcessor_inherit__map" alt="Inheritance graph"/></div>
<map name="acom_8facebook_8thrift_8TMultiplexedProcessor_inherit__map" id="acom_8facebook_8thrift_8TMultiplexedProcessor_inherit__map">
<area shape="rect" title="TMultiplexedProcessor is a TProcessor allowing a single TServer &#160;to provide multiple services." alt="" coords="5,80,243,121"/>
<area shape="rect" href="interfacecom_1_1facebook_1_1thrift_1_1TProcessor.html" title="A processor is a generic object which operates upon an input stream and writes to some output stream." alt="" coords="12,5,236,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for com.facebook.thrift.TMultiplexedProcessor:</div>
<div class="dyncontent">
<div class="center"><img src="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor__coll__graph.png" border="0" usemap="#acom_8facebook_8thrift_8TMultiplexedProcessor_coll__map" alt="Collaboration graph"/></div>
<map name="acom_8facebook_8thrift_8TMultiplexedProcessor_coll__map" id="acom_8facebook_8thrift_8TMultiplexedProcessor_coll__map">
<area shape="rect" title="TMultiplexedProcessor is a TProcessor allowing a single TServer &#160;to provide multiple services." alt="" coords="5,80,243,121"/>
<area shape="rect" href="interfacecom_1_1facebook_1_1thrift_1_1TProcessor.html" title="A processor is a generic object which operates upon an input stream and writes to some output stream." alt="" coords="12,5,236,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a152188efc70d6dc46bece0669c87a08c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html#a152188efc70d6dc46bece0669c87a08c">registerProcessor</a> (String serviceName, <a class="el" href="interfacecom_1_1facebook_1_1thrift_1_1TProcessor.html">TProcessor</a> processor)</td></tr>
<tr class="memdesc:a152188efc70d6dc46bece0669c87a08c"><td class="mdescLeft">&#160;</td><td class="mdescRight">'Register' a service with this <code><a class="el" href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html" title="TMultiplexedProcessor is a TProcessor allowing a single TServer  to provide multiple services.">TMultiplexedProcessor</a></code>.  <a href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html#a152188efc70d6dc46bece0669c87a08c">More...</a><br /></td></tr>
<tr class="separator:a152188efc70d6dc46bece0669c87a08c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc58ad954cb34ce737cb9847b8f231fe"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html#acc58ad954cb34ce737cb9847b8f231fe">process</a> (<a class="el" href="classcom_1_1facebook_1_1thrift_1_1protocol_1_1TProtocol.html">TProtocol</a> iprot, <a class="el" href="classcom_1_1facebook_1_1thrift_1_1protocol_1_1TProtocol.html">TProtocol</a> oprot, <a class="el" href="classcom_1_1facebook_1_1thrift_1_1server_1_1TConnectionContext.html">TConnectionContext</a> server_ctx)  throws TException </td></tr>
<tr class="memdesc:acc58ad954cb34ce737cb9847b8f231fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This implementation of <code>process</code> performs the following steps:  <a href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html#acc58ad954cb34ce737cb9847b8f231fe">More...</a><br /></td></tr>
<tr class="separator:acc58ad954cb34ce737cb9847b8f231fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6eadc1dd20bc2f0215a7d088fab3473"><td class="memItemLeft" align="right" valign="top"><a id="af6eadc1dd20bc2f0215a7d088fab3473"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setEventHandler</b> (<a class="el" href="classcom_1_1facebook_1_1thrift_1_1TProcessorEventHandler.html">TProcessorEventHandler</a> handler)</td></tr>
<tr class="separator:af6eadc1dd20bc2f0215a7d088fab3473"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><code><a class="el" href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html" title="TMultiplexedProcessor is a TProcessor allowing a single TServer  to provide multiple services.">TMultiplexedProcessor</a></code> is a <code><a class="el" href="interfacecom_1_1facebook_1_1thrift_1_1TProcessor.html" title="A processor is a generic object which operates upon an input stream and writes to some output stream.">TProcessor</a></code> allowing a single <code>TServer </code> to provide multiple services. </p>
<p>To do so, you instantiate the processor and then register additional processors with it, as shown in the following example:</p>
<blockquote class="doxtable">
<p></p>
<p><code> <a class="el" href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html" title="TMultiplexedProcessor is a TProcessor allowing a single TServer  to provide multiple services.">TMultiplexedProcessor</a> processor = new TMultiplexedProcessor(); </code></p>
<p><code> processor.registerProcessor( "Calculator", new Calculator.Processor(new CalculatorHandler())); </code></p>
<p><code> processor.registerProcessor( "WeatherReport", new WeatherReport.Processor(new WeatherReportHandler())); </code></p>
<p><code> TServerTransport t = new TServerSocket(9090); TSimpleServer server = new TSimpleServer(processor, t); </code></p>
<p><code> server.serve(); </code></p>
<p></p>
</blockquote>

<p class="definition">Definition at line <a class="el" href="TMultiplexedProcessor_8java_source.html#l00060">60</a> of file <a class="el" href="TMultiplexedProcessor_8java_source.html">TMultiplexedProcessor.java</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="acc58ad954cb34ce737cb9847b8f231fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc58ad954cb34ce737cb9847b8f231fe">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.facebook.thrift.TMultiplexedProcessor.process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1facebook_1_1thrift_1_1protocol_1_1TProtocol.html">TProtocol</a>&#160;</td>
          <td class="paramname"><em>iprot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1facebook_1_1thrift_1_1protocol_1_1TProtocol.html">TProtocol</a>&#160;</td>
          <td class="paramname"><em>oprot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1facebook_1_1thrift_1_1server_1_1TConnectionContext.html">TConnectionContext</a>&#160;</td>
          <td class="paramname"><em>server_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws <a class="el" href="classcom_1_1facebook_1_1thrift_1_1TException.html">TException</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This implementation of <code>process</code> performs the following steps: </p>
<ol>
<li>
Read the beginning of the message. </li>
<li>
Extract the service name from the message. </li>
<li>
Using the service name to locate the appropriate processor. </li>
<li>
Dispatch to the processor, with a decorated instance of TProtocol that allows readMessageBegin() to return the original TMessage. </li>
</ol>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classcom_1_1facebook_1_1thrift_1_1TException.html" title="Generic exception class for Thrift.">TException</a></td><td>If the message type is not CALL or ONEWAY, if the service name was not found in the message, or if the service name was not found in the service map. You called {<a class="el" href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html#a152188efc70d6dc46bece0669c87a08c">registerProcessor} during initialization, right? :) </a></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacecom_1_1facebook_1_1thrift_1_1TProcessor.html">com.facebook.thrift.TProcessor</a>.</p>

<p class="definition">Definition at line <a class="el" href="TMultiplexedProcessor_8java_source.html#l00094">94</a> of file <a class="el" href="TMultiplexedProcessor_8java_source.html">TMultiplexedProcessor.java</a>.</p>

</div>
</div>
<a id="a152188efc70d6dc46bece0669c87a08c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152188efc70d6dc46bece0669c87a08c">&#9670;&nbsp;</a></span>registerProcessor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.facebook.thrift.TMultiplexedProcessor.registerProcessor </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>serviceName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfacecom_1_1facebook_1_1thrift_1_1TProcessor.html">TProcessor</a>&#160;</td>
          <td class="paramname"><em>processor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>'Register' a service with this <code><a class="el" href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html" title="TMultiplexedProcessor is a TProcessor allowing a single TServer  to provide multiple services.">TMultiplexedProcessor</a></code>. </p>
<p>This allows us to broker requests to individual services by using the service name to select them at request time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serviceName</td><td>Name of a service, has to be identical to the name declared in the Thrift IDL, e.g. "WeatherReport". </td></tr>
    <tr><td class="paramname">processor</td><td>Implementation of a service, ususally referred to as "handlers", e.g. WeatherReportHandler implementing WeatherReport.Iface. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="TMultiplexedProcessor_8java_source.html#l00073">73</a> of file <a class="el" href="TMultiplexedProcessor_8java_source.html">TMultiplexedProcessor.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>client/src/main/fbthrift/com/facebook/thrift/<a class="el" href="TMultiplexedProcessor_8java_source.html">TMultiplexedProcessor.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>com</b></li><li class="navelem"><b>facebook</b></li><li class="navelem"><b>thrift</b></li><li class="navelem"><a class="el" href="classcom_1_1facebook_1_1thrift_1_1TMultiplexedProcessor.html">TMultiplexedProcessor</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
